{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../storitve/avtentikacija.service\";\nimport * as i3 from \"../../storitve/zgodovina.service\";\nimport * as i4 from \"../../storitve/povezava.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction PrijavaComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.napakaNaObrazcu);\n  }\n}\nexport let PrijavaComponent = /*#__PURE__*/(() => {\n  class PrijavaComponent {\n    constructor(usmerjevalnik, avtentikacijaStoritev, zgodovinaStoritev, povezavaStoritev, route) {\n      this.usmerjevalnik = usmerjevalnik;\n      this.avtentikacijaStoritev = avtentikacijaStoritev;\n      this.zgodovinaStoritev = zgodovinaStoritev;\n      this.povezavaStoritev = povezavaStoritev;\n      this.route = route;\n      this.napakaNaObrazcu = \"\";\n      this.prijavniPodatki = {\n        ime: \"\",\n        elektronskiNaslov: \"\",\n        geslo: \"\"\n      };\n      if (this.usmerjevalnik.url.startsWith('/prijava/google')) {\n        this.route.params.subscribe(event => {\n          this.avtentikacijaStoritev.googlePrijava(event.token);\n          this.usmerjevalnik.navigate(['/seznam-lokacije']);\n        });\n      }\n      if (this.usmerjevalnik.url.startsWith('/prijava/facebook')) {\n        this.route.params.subscribe(event => {\n          this.avtentikacijaStoritev.facebookPrijava(event.token);\n          this.usmerjevalnik.navigate(['/seznam-lokacije']);\n        });\n      }\n    }\n    jePovezava() {\n      return this.povezavaStoritev.jePovezava;\n    }\n    posiljanjePodatkov() {\n      this.napakaNaObrazcu = \"\";\n      if (!this.prijavniPodatki.elektronskiNaslov || !this.prijavniPodatki.geslo) {\n        this.napakaNaObrazcu = \"Zahtevani so vsi podatki, prosim poskusite znova!\";\n      } else {\n        this.izvediPrijavo();\n      }\n    }\n    izvediPrijavo() {\n      this.avtentikacijaStoritev.prijava(this.prijavniPodatki).then(() => {\n        this.usmerjevalnik.navigateByUrl(this.zgodovinaStoritev.vrniPredhodnjeUrlNasloveBrezPrijaveInRegistracije());\n      }).catch(sporocilo => this.napakaNaObrazcu = sporocilo);\n    }\n    ngOnInit() {}\n  }\n  PrijavaComponent.ɵfac = function PrijavaComponent_Factory(t) {\n    return new (t || PrijavaComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AvtentikacijaService), i0.ɵɵdirectiveInject(i3.ZgodovinaService), i0.ɵɵdirectiveInject(i4.PovezavaService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n  };\n  PrijavaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PrijavaComponent,\n    selectors: [[\"app-prijava\"]],\n    decls: 45,\n    vars: 6,\n    consts: [[1, \"registersignup\"], [1, \"container\"], [1, \"row\"], [1, \"col-lg-8\", \"d-none\", \"d-lg-block\"], [\"src\", \"../../assets/images/3screens.png\", \"alt\", \"myseat app on a mobile phone\", 2, \"width\", \"90%\", \"margin-top\", \"65px\", \"text-align\", \"center\"], [1, \"col-lg-4\", \"col-xs-12\", \"signup-form\"], [\"href\", \"https://myseat.fly.dev/api/google\"], [1, \"grid--cell\", \"s-btn\", \"s-btn__icon\", \"s-btn__google\", \"bar-md\", \"ba\"], [\"aria-hidden\", \"true\", \"width\", \"18\", \"height\", \"18\", \"viewBox\", \"0 0 18 18\", 1, \"native\", \"svg-icon\", \"iconGoogle\"], [\"d\", \"M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 002.38-5.88c0-.57-.05-.66-.15-1.18z\", \"fill\", \"#4285F4\"], [\"d\", \"M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 01-7.18-2.54H1.83v2.07A8 8 0 008.98 17z\", \"fill\", \"#34A853\"], [\"d\", \"M4.5 10.52a4.8 4.8 0 010-3.04V5.41H1.83a8 8 0 000 7.18l2.67-2.07z\", \"fill\", \"#FBBC05\"], [\"d\", \"M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 001.83 5.4L4.5 7.49a4.77 4.77 0 014.48-3.3z\", \"fill\", \"#EA4335\"], [\"href\", \"https://myseat.fly.dev/api/facebook\"], [\"data-provider\", \"facebook\", \"data-oauthserver\", \"https://www.facebook.com/v2.0/dialog/oauth\", \"data-oauthversion\", \"2.0\", 1, \"grid--cell\", \"s-btn\", \"s-btn__icon\", \"s-btn__facebook\", \"bar-md\"], [\"aria-hidden\", \"true\", \"width\", \"18\", \"height\", \"18\", \"viewBox\", \"0 0 18 18\", 1, \"svg-icon\", \"iconFacebook\"], [\"d\", \"M3 1a2 2 0 00-2 2v12c0 1.1.9 2 2 2h12a2 2 0 002-2V3a2 2 0 00-2-2H3zm6.55 16v-6.2H7.46V8.4h2.09V6.61c0-2.07 1.26-3.2 3.1-3.2.88 0 1.64.07 1.87.1v2.16h-1.29c-1 0-1.19.48-1.19 1.18V8.4h2.39l-.31 2.42h-2.08V17h-2.5z\", \"fill\", \"#4167B2\"], [\"autocomplete\", \"off\", 3, \"submit\"], [\"role\", \"alert\", \"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"form-group\"], [\"for\", \"elektronskiNaslov\"], [\"name\", \"elektronskiNaslov\", \"type\", \"email\", \"id\", \"elektronskiNaslov\", 1, \"form-control\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"id\", \"emailHelp\", 1, \"form-text\", \"text-muted\"], [\"for\", \"geslo\"], [\"name\", \"geslo\", \"type\", \"password\", \"id\", \"geslo\", 1, \"form-control\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"routerLink\", \"/account-recovery\", 2, \"color\", \"rgb(0, 77, 243)\", \"text-align\", \"right\"], [2, \"font-size\", \"13.5px\", \"margin-bottom\", \"-3px\", \"margin-top\", \"-10px\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"disabled\"], [2, \"font-size\", \"14.5px\", \"margin-bottom\", \"45px\", \"text-align\", \"center\"], [\"routerLink\", \"/registracija\", 2, \"color\", \"rgb(0, 77, 243)\", \"text-decoration\", \"none\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"]],\n    template: function PrijavaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵelement(6, \"br\")(7, \"br\");\n        i0.ɵɵelementStart(8, \"a\", 6)(9, \"button\", 7);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(10, \"svg\", 8);\n        i0.ɵɵelement(11, \"path\", 9)(12, \"path\", 10)(13, \"path\", 11)(14, \"path\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(15, \" Log in with Google \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(16, \"a\", 13)(17, \"button\", 14);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(18, \"svg\", 15);\n        i0.ɵɵelement(19, \"path\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(20, \" Log in with Facebook \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(21, \"form\", 17);\n        i0.ɵɵlistener(\"submit\", function PrijavaComponent_Template_form_submit_21_listener() {\n          return ctx.posiljanjePodatkov();\n        });\n        i0.ɵɵtemplate(22, PrijavaComponent_div_22_Template, 2, 1, \"div\", 18);\n        i0.ɵɵelementStart(23, \"div\", 19)(24, \"label\", 20);\n        i0.ɵɵtext(25, \"Email address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"input\", 21);\n        i0.ɵɵlistener(\"ngModelChange\", function PrijavaComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.prijavniPodatki.elektronskiNaslov = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"small\", 22);\n        i0.ɵɵtext(28, \"We will never share your email with anyone.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 19)(30, \"label\", 23);\n        i0.ɵɵtext(31, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"input\", 24);\n        i0.ɵɵlistener(\"ngModelChange\", function PrijavaComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.prijavniPodatki.geslo = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"a\", 25)(34, \"h6\", 26);\n        i0.ɵɵtext(35, \"Forgot password?\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(36, \"br\");\n        i0.ɵɵelementStart(37, \"button\", 27);\n        i0.ɵɵtext(38, \"Login\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(39, \"br\")(40, \"br\");\n        i0.ɵɵelementStart(41, \"p\", 28);\n        i0.ɵɵtext(42, \" Don't have an account? \");\n        i0.ɵɵelementStart(43, \"a\", 29);\n        i0.ɵɵtext(44, \"Sign up\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"ngIf\", ctx.napakaNaObrazcu);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.prijavniPodatki.elektronskiNaslov)(\"disabled\", !ctx.jePovezava());\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.prijavniPodatki.geslo)(\"disabled\", !ctx.jePovezava());\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", !ctx.jePovezava());\n      }\n    },\n    dependencies: [i5.NgIf, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.NgModel, i6.NgForm, i1.RouterLink]\n  });\n  return PrijavaComponent;\n})();","map":{"version":3,"mappings":"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","names":["i0","PrijavaComponent","constructor","usmerjevalnik","avtentikacijaStoritev","zgodovinaStoritev","povezavaStoritev","route","ime","elektronskiNaslov","geslo","url","startsWith","params","subscribe","event","googlePrijava","token","navigate","facebookPrijava","jePovezava","posiljanjePodatkov","napakaNaObrazcu","prijavniPodatki","izvediPrijavo","prijava","then","navigateByUrl","vrniPredhodnjeUrlNasloveBrezPrijaveInRegistracije","catch","sporocilo","ngOnInit","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\MySeat\\app_public\\src\\app\\skupno\\komponenti\\prijava\\prijava.component.html","C:\\Users\\HP\\Desktop\\MySeat\\app_public\\src\\app\\skupno\\komponenti\\prijava\\prijava.component.ts"],"sourcesContent":["<body class=\"registersignup\">\r\n<div class='container'>\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-8 d-none d-lg-block\">\r\n            <img src=\"../../assets/images/3screens.png\" alt=\"myseat app on a mobile phone\"\r\n             style=\"width: 90%; margin-top: 65px; text-align:center;\">\r\n        </div> \r\n        <div class=\"col-lg-4 col-xs-12 signup-form\"><br><br>\r\n            <a href=\"https://myseat.fly.dev/api/google\"><button class=\"grid--cell s-btn s-btn__icon s-btn__google bar-md ba\" >\r\n                <svg aria-hidden=\"true\" class=\"native svg-icon iconGoogle\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\">\r\n                    <path d=\"M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 002.38-5.88c0-.57-.05-.66-.15-1.18z\"\r\n                        fill=\"#4285F4\"></path>\r\n                        <path d=\"M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 01-7.18-2.54H1.83v2.07A8 8 0 008.98 17z\"\r\n                        fill=\"#34A853\"></path>\r\n                        <path d=\"M4.5 10.52a4.8 4.8 0 010-3.04V5.41H1.83a8 8 0 000 7.18l2.67-2.07z\"\r\n                        fill=\"#FBBC05\"></path>\r\n                        <path d=\"M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 001.83 5.4L4.5 7.49a4.77 4.77 0 014.48-3.3z\"\r\n                    fill=\"#EA4335\"></path>\r\n                </svg>\r\n            Log in with Google\r\n            </button> </a>\r\n            <a href=\"https://myseat.fly.dev/api/facebook\">\r\n            <button class=\"grid--cell s-btn s-btn__icon s-btn__facebook bar-md\" data-provider=\"facebook\"\r\n            data-oauthserver=\"https://www.facebook.com/v2.0/dialog/oauth\" data-oauthversion=\"2.0\">\r\n                <svg aria-hidden=\"true\" class=\"svg-icon iconFacebook\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\"><path d=\"M3 1a2 2 0 00-2 2v12c0 1.1.9 2 2 2h12a2 2 0 002-2V3a2 2 0 00-2-2H3zm6.55 16v-6.2H7.46V8.4h2.09V6.61c0-2.07 1.26-3.2 3.1-3.2.88 0 1.64.07 1.87.1v2.16h-1.29c-1 0-1.19.48-1.19 1.18V8.4h2.39l-.31 2.42h-2.08V17h-2.5z\" fill=\"#4167B2\"></path></svg>\r\n            Log in with Facebook\r\n            </button></a>\r\n    \r\n            <form (submit)=\"posiljanjePodatkov()\" autocomplete=\"off\">\r\n                <div role=\"alert\" *ngIf=\"napakaNaObrazcu\" class=\"alert alert-danger\">{{ napakaNaObrazcu }}</div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"elektronskiNaslov\">Email address</label>\r\n                    <input name=\"elektronskiNaslov\" type=\"email\" class=\"form-control\" id=\"elektronskiNaslov\"\r\n                     [(ngModel)]=\"prijavniPodatki.elektronskiNaslov\" [disabled]=\"!jePovezava()\">\r\n                    <small id=\"emailHelp\" class=\"form-text text-muted\">We will never share your email with anyone.</small>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"geslo\">Password</label>\r\n                    <input name=\"geslo\" type=\"password\" class=\"form-control\" id=\"geslo\"\r\n                     [(ngModel)]=\"prijavniPodatki.geslo\" [disabled]=\"!jePovezava()\">\r\n                </div>\r\n                <a routerLink=\"/account-recovery\" style=\"color:rgb(0, 77, 243); text-align: right;\">\r\n                    <h6 style=\"font-size: 13.5px; margin-bottom: -3px; margin-top: -10px;\">Forgot password?</h6></a><br>\r\n                <button type=\"submit\" class=\"btn btn-primary btn-block\" [disabled]=\"!jePovezava()\">Login</button>\r\n            </form><br><br>\r\n            <p style=\"font-size: 14.5px; margin-bottom: 45px; text-align: center;\">\r\n                Don't have an account? <a style=\"color:rgb(0, 77, 243); text-decoration: none;\" routerLink=\"/registracija\">Sign up</a></p>\r\n        </div>\r\n    </div>\r\n</div>\r\n</body>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AvtentikacijaService } from '../../storitve/avtentikacija.service';\r\nimport { ZgodovinaService } from '../../storitve/zgodovina.service';\r\nimport { PovezavaService } from '../../storitve/povezava.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-prijava',\r\n  templateUrl: './prijava.component.html',\r\n  styleUrls: ['./prijava.component.css']\r\n})\r\n\r\nexport class PrijavaComponent implements OnInit {\r\n  \r\n  constructor(\r\n    private usmerjevalnik: Router,\r\n    private avtentikacijaStoritev: AvtentikacijaService,\r\n    private zgodovinaStoritev: ZgodovinaService,\r\n    private povezavaStoritev: PovezavaService,\r\n    private route: ActivatedRoute\r\n  ) {\r\n    if (this.usmerjevalnik.url.startsWith('/prijava/google')) {\r\n      this.route.params.subscribe(event => {\r\n        this.avtentikacijaStoritev.googlePrijava(event.token)\r\n        this.usmerjevalnik.navigate(['/seznam-lokacije']);\r\n       });\r\n    }\r\n    if (this.usmerjevalnik.url.startsWith('/prijava/facebook')) {\r\n      this.route.params.subscribe(event => {\r\n        this.avtentikacijaStoritev.facebookPrijava(event.token)\r\n        this.usmerjevalnik.navigate(['/seznam-lokacije']);\r\n       });\r\n    }\r\n   }\r\n\r\n  public jePovezava(): boolean {\r\n    return this.povezavaStoritev.jePovezava;\r\n  }\r\n\r\n  public napakaNaObrazcu: string = \"\";\r\n  public prijavniPodatki = {\r\n    ime: \"\",\r\n    elektronskiNaslov: \"\",\r\n    geslo: \"\"\r\n  }\r\n\r\n  public posiljanjePodatkov(): void {\r\n    this.napakaNaObrazcu = \"\";\r\n    if (!this.prijavniPodatki.elektronskiNaslov || !this.prijavniPodatki.geslo ) {\r\n      this.napakaNaObrazcu = \"Zahtevani so vsi podatki, prosim poskusite znova!\";\r\n    } else {\r\n      this.izvediPrijavo();\r\n    }\r\n  }\r\n  private izvediPrijavo(): void {\r\n    this.avtentikacijaStoritev\r\n      .prijava(this.prijavniPodatki)\r\n      .then(() => {\r\n        this.usmerjevalnik.navigateByUrl(\r\n          this.zgodovinaStoritev.vrniPredhodnjeUrlNasloveBrezPrijaveInRegistracije()\r\n        )\r\n      })\r\n      .catch(sporocilo => this.napakaNaObrazcu = sporocilo);\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}