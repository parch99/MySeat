{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../storitve/avtentikacija.service\";\nimport * as i3 from \"../../storitve/zgodovina.service\";\nimport * as i4 from \"../../storitve/povezava.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction PrijavaComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.napakaNaObrazcu);\n  }\n}\nexport let PrijavaComponent = /*#__PURE__*/(() => {\n  class PrijavaComponent {\n    constructor(usmerjevalnik, avtentikacijaStoritev, zgodovinaStoritev, povezavaStoritev, route) {\n      this.usmerjevalnik = usmerjevalnik;\n      this.avtentikacijaStoritev = avtentikacijaStoritev;\n      this.zgodovinaStoritev = zgodovinaStoritev;\n      this.povezavaStoritev = povezavaStoritev;\n      this.route = route;\n      this.napakaNaObrazcu = \"\";\n      this.prijavniPodatki = {\n        ime: \"\",\n        elektronskiNaslov: \"\",\n        geslo: \"\"\n      };\n      if (this.usmerjevalnik.url.startsWith('/prijava/google')) {\n        this.route.params.subscribe(event => {\n          this.avtentikacijaStoritev.googlePrijava(event.token);\n          this.usmerjevalnik.navigate(['/seznam-lokacije']);\n        });\n      }\n      if (this.usmerjevalnik.url.startsWith('/prijava/facebook')) {\n        this.route.params.subscribe(event => {\n          this.avtentikacijaStoritev.facebookPrijava(event.token);\n          this.usmerjevalnik.navigate(['/seznam-lokacije']);\n        });\n      }\n    }\n    jePovezava() {\n      return this.povezavaStoritev.jePovezava;\n    }\n    posiljanjePodatkov() {\n      this.napakaNaObrazcu = \"\";\n      if (!this.prijavniPodatki.elektronskiNaslov || !this.prijavniPodatki.geslo) {\n        this.napakaNaObrazcu = \"Zahtevani so vsi podatki, prosim poskusite znova!\";\n      } else {\n        this.izvediPrijavo();\n      }\n    }\n    izvediPrijavo() {\n      this.avtentikacijaStoritev.prijava(this.prijavniPodatki).then(() => {\n        this.usmerjevalnik.navigateByUrl(this.zgodovinaStoritev.vrniPredhodnjeUrlNasloveBrezPrijaveInRegistracije());\n      }).catch(sporocilo => this.napakaNaObrazcu = sporocilo);\n    }\n    ngOnInit() {}\n  }\n  PrijavaComponent.ɵfac = function PrijavaComponent_Factory(t) {\n    return new (t || PrijavaComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AvtentikacijaService), i0.ɵɵdirectiveInject(i3.ZgodovinaService), i0.ɵɵdirectiveInject(i4.PovezavaService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n  };\n  PrijavaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PrijavaComponent,\n    selectors: [[\"app-prijava\"]],\n    decls: 45,\n    vars: 6,\n    consts: [[1, \"registersignup\"], [1, \"container\"], [1, \"row\"], [1, \"col-lg-8\", \"d-none\", \"d-lg-block\"], [\"src\", \"../../assets/images/3screens.png\", \"alt\", \"myseat app on a mobile phone\", 2, \"width\", \"90%\", \"margin-top\", \"65px\", \"text-align\", \"center\"], [1, \"col-lg-4\", \"col-xs-12\", \"signup-form\"], [\"href\", \"https://myseat.fly.dev/api/google\"], [1, \"grid--cell\", \"s-btn\", \"s-btn__icon\", \"s-btn__google\", \"bar-md\", \"ba\"], [\"aria-hidden\", \"true\", \"width\", \"18\", \"height\", \"18\", \"viewBox\", \"0 0 18 18\", 1, \"native\", \"svg-icon\", \"iconGoogle\"], [\"d\", \"M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 002.38-5.88c0-.57-.05-.66-.15-1.18z\", \"fill\", \"#4285F4\"], [\"d\", \"M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 01-7.18-2.54H1.83v2.07A8 8 0 008.98 17z\", \"fill\", \"#34A853\"], [\"d\", \"M4.5 10.52a4.8 4.8 0 010-3.04V5.41H1.83a8 8 0 000 7.18l2.67-2.07z\", \"fill\", \"#FBBC05\"], [\"d\", \"M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 001.83 5.4L4.5 7.49a4.77 4.77 0 014.48-3.3z\", \"fill\", \"#EA4335\"], [\"href\", \"https://myseat.fly.dev/api/facebook\"], [\"data-provider\", \"facebook\", \"data-oauthserver\", \"https://www.facebook.com/v2.0/dialog/oauth\", \"data-oauthversion\", \"2.0\", 1, \"grid--cell\", \"s-btn\", \"s-btn__icon\", \"s-btn__facebook\", \"bar-md\"], [\"aria-hidden\", \"true\", \"width\", \"18\", \"height\", \"18\", \"viewBox\", \"0 0 18 18\", 1, \"svg-icon\", \"iconFacebook\"], [\"d\", \"M3 1a2 2 0 00-2 2v12c0 1.1.9 2 2 2h12a2 2 0 002-2V3a2 2 0 00-2-2H3zm6.55 16v-6.2H7.46V8.4h2.09V6.61c0-2.07 1.26-3.2 3.1-3.2.88 0 1.64.07 1.87.1v2.16h-1.29c-1 0-1.19.48-1.19 1.18V8.4h2.39l-.31 2.42h-2.08V17h-2.5z\", \"fill\", \"#4167B2\"], [\"autocomplete\", \"off\", 3, \"submit\"], [\"role\", \"alert\", \"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"form-group\"], [\"for\", \"elektronskiNaslov\"], [\"name\", \"elektronskiNaslov\", \"type\", \"email\", \"id\", \"elektronskiNaslov\", 1, \"form-control\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"id\", \"emailHelp\", 1, \"form-text\", \"text-muted\"], [\"for\", \"geslo\"], [\"name\", \"geslo\", \"type\", \"password\", \"id\", \"geslo\", 1, \"form-control\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"routerLink\", \"/account-recovery\", 2, \"color\", \"rgb(0, 77, 243)\", \"text-align\", \"right\"], [2, \"font-size\", \"13.5px\", \"margin-bottom\", \"-3px\", \"margin-top\", \"-10px\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"disabled\"], [2, \"font-size\", \"14.5px\", \"margin-bottom\", \"45px\", \"text-align\", \"center\"], [\"routerLink\", \"/registracija\", 2, \"color\", \"rgb(0, 77, 243)\", \"text-decoration\", \"none\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"]],\n    template: function PrijavaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵelement(6, \"br\")(7, \"br\");\n        i0.ɵɵelementStart(8, \"a\", 6)(9, \"button\", 7);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(10, \"svg\", 8);\n        i0.ɵɵelement(11, \"path\", 9)(12, \"path\", 10)(13, \"path\", 11)(14, \"path\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(15, \" Log in with Google \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(16, \"a\", 13)(17, \"button\", 14);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(18, \"svg\", 15);\n        i0.ɵɵelement(19, \"path\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(20, \" Log in with Facebook \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(21, \"form\", 17);\n        i0.ɵɵlistener(\"submit\", function PrijavaComponent_Template_form_submit_21_listener() {\n          return ctx.posiljanjePodatkov();\n        });\n        i0.ɵɵtemplate(22, PrijavaComponent_div_22_Template, 2, 1, \"div\", 18);\n        i0.ɵɵelementStart(23, \"div\", 19)(24, \"label\", 20);\n        i0.ɵɵtext(25, \"Email address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"input\", 21);\n        i0.ɵɵlistener(\"ngModelChange\", function PrijavaComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.prijavniPodatki.elektronskiNaslov = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"small\", 22);\n        i0.ɵɵtext(28, \"We will never share your email with anyone.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 19)(30, \"label\", 23);\n        i0.ɵɵtext(31, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"input\", 24);\n        i0.ɵɵlistener(\"ngModelChange\", function PrijavaComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.prijavniPodatki.geslo = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"a\", 25)(34, \"h6\", 26);\n        i0.ɵɵtext(35, \"Forgot password?\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(36, \"br\");\n        i0.ɵɵelementStart(37, \"button\", 27);\n        i0.ɵɵtext(38, \"Login\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(39, \"br\")(40, \"br\");\n        i0.ɵɵelementStart(41, \"p\", 28);\n        i0.ɵɵtext(42, \" Don't have an account? \");\n        i0.ɵɵelementStart(43, \"a\", 29);\n        i0.ɵɵtext(44, \"Sign up\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"ngIf\", ctx.napakaNaObrazcu);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.prijavniPodatki.elektronskiNaslov)(\"disabled\", !ctx.jePovezava());\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.prijavniPodatki.geslo)(\"disabled\", !ctx.jePovezava());\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", !ctx.jePovezava());\n      }\n    },\n    dependencies: [i5.NgIf, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.NgModel, i6.NgForm, i1.RouterLink]\n  });\n  return PrijavaComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}